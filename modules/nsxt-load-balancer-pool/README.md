# VMWare NSX-T Load Balancer Pool Module
This Terraform module configures NSX-T load balancer pools with with members or member pools. These pools can then be later referenced by load balancer virtual server rules using the [nsxt-load-balancer-virtual-server](../nsxt-load-balancer-virtual-server/README.md) module.

# Execution environment
This module requires Terraform 1.x.

## Config Data Object Definition
| Variable  | Description | Type | Default |
| ---      |  ------  |----------| ----|
| `resource_description` | A string added to the description field of all created resouces. | `string` | `Terraform provisioned` |
| `active_monitor_path` | The path for the already existing active monitor for this pool. | `string` | `null` |
| `passive_monitor_path` | The path for the already existing passive monitor for this pool. | `string` | `null` |
| `algorithm` | Load balancing algorithm to use for this pool. | `string` | `ROUND_ROBIN` |
| `display_name` | The name assigned to the LB pool created with this module | `string` | `vm-segment` |
| `min_active_members` | Minimum number of active members to consider this pool active | `number` | `null` |
| `members` | `members` is a map of objects for configuring the members of the LB Pool. It is defined with the below attributes. Specify either `members` or `member_group` but not both | `map(object)` | |
| `members.ip_address` | IP Address for this member of the pool | `string` |  |
| `members.admin_state` | Administrative state for this member the pool. May be one of `ENABLED`, `DISABLED`, `GRACEFUL_DISABLED` | `string` |  |
| `members.backup_member` | Whether this member is a backup member of the pool | `bool` | `false` |
| `members.display_name` | Display name for this member of the pool | `string` |  |
| `members.max_concurrent_connection` | Maximum concurrent connections for this member | `string` |  |
| `members.port` | Port for this member. If specified connections are redirected to this port | `string` |  |
| `members.weight` | Member weight when using weighted algorithms | `string` |  |
| `member_group` | `member_group` is an object to configure the member group in the LB Pool. It is defined with the below attributes. Specify either `members` or `member_group` but not both | `object` | |
| `member_group.group_path` | Path for the already existing member group| `string` |  |
| `member_group.allow_ipv4` | Whether connections are IPv4.| `bool` | `true` |
| `member_group.allow_ipv6` | Whether connections are IPv6.| `bool` | `false` |
| `member_group.max_ip_list_size` | Max IPs to use from the group object | `number` |  |
| `member_group.port` | Port for this member. If specified connections are redirected to this port | `string` |  |
| `snat` | `snat` is an object as defined with the below attributes. It defines how source nat is configured | `object` | `null` |
| `snat.type` | Source NAT type. Can be one of `AUTOMAP`, `DISABLED`, `IPPOOL` | `object` | `AUTOMAP` |
| `snat.ip_pool_addresses` | List of IP ranges or IP CIDRs. Only used with the `IPPOOL` SNAT type. | `object` | `AUTOMAP` |
| `tcp_multiplexing_enabled` | Should TCP multiplexing be enabled in the pool | `bool` | `false` |
| `tcp_multiplexing_number` | The maximum number of TCP connections per pool that are idly kept alive for sending future client requests.| `number` | `null` |
| `tags` | A map of tag:scope pairs to be assigned to created resrouces | `string` | |
