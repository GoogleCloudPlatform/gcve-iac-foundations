# GCVE Network Peering module

This module contains the terraform to setup and define network connectivity between Google Cloud VMware Engine networks, Google VPCs, and other services.

<!-- BEGIN_AUTOMATED_TF_DOCS_BLOCK -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.3.0 |
| <a name="requirement_google-beta"></a> [google-beta](#requirement\_google-beta) | >= 4.71.0 |

## Usage
Basic usage of this module is as follows:

```hcl
module "network-peering" {
	 source  = "github.com/GoogleCloudPlatform/gcve-iac-foundations/modules/gcve-network-peering"

	 # Required variables
	 gcve_peer_name  = <gcve peer name in lowercase>
	 project_id  = <name of the project containing VMWARE Engine>
	 vmware_engine_network_id =  <ID of the VMWARE Engine network>

	 peer_network_type  = <peer type>
	 peer_nw_name  = <name of network in peered project>
	 peer_nw_project_id  = <name of project that contains the peered network>
	
	 # Optional variables
	 gcve_peer_description  = <peer description>
	 peer_export_custom_routes  = true
	 peer_export_custom_routes_with_public_ip  = false
	 peer_import_custom_routes  = true
	 peer_import_custom_routes_with_public_ip  = false
	 peer_nw_location  = "global"
}
```

## Resources

| Name | Type |
|------|------|
| [google_vmwareengine_network_peering.peering](https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/vmwareengine_network_peering) | resource |
| [google_compute_network.network-peering-peer-nw](https://registry.terraform.io/providers/hashicorp/google/latest/docs/data-sources/compute_network) | data source |
| [google_vmwareengine_network.network-peering-nw](https://registry.terraform.io/providers/hashicorp/google/latest/docs/data-sources/vmwareengine_network) | data source |
| [google_vmwareengine_network.network-peering-peer-nw](https://registry.terraform.io/providers/hashicorp/google/latest/docs/data-sources/vmwareengine_network) | data source |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_gcve_peer_description"></a> [gcve\_peer\_description](#input\_gcve\_peer\_description) | User-provided description for this network peering. | `string` | `""` | no |
| <a name="input_gcve_peer_name"></a> [gcve\_peer\_name](#input\_gcve\_peer\_name) | The ID of the Network Peering. | `string` | n/a | yes |
| <a name="input_vmware_engine_network_id"></a> [vmware\_engine_network_id](#input\_vmware\_engine\_network\_id) | The VMware Engine network id | `string` | n/a | yes |
| <a name="input_nw_project_id"></a> [project\_id](#input\_nw\_project\_id) | The Project ID of the VMWARE Engine Project | `string` | n/a | yes |
| <a name="input_peer_export_custom_routes"></a> [peer\_export\_custom\_routes](#input\_peer\_export\_custom\_routes) | True if custom routes are exported to the peered network; false otherwise. | `bool` | `true` | no |
| <a name="input_peer_export_custom_routes_with_public_ip"></a> [peer\_export\_custom\_routes\_with\_public\_ip](#input\_peer\_export\_custom\_routes\_with\_public\_ip) | True if all subnet routes with a public IP address range are exported; false otherwise | `bool` | `false` | no |
| <a name="input_peer_import_custom_routes"></a> [peer\_import\_custom\_routes](#input\_peer\_import\_custom\_routes) | True if custom routes are imported from the peered network; false otherwise. | `bool` | `true` | no |
| <a name="input_peer_import_custom_routes_with_public_ip"></a> [peer\_import\_custom\_routes\_with\_public\_ip](#input\_peer\_import\_custom\_routes\_with\_public\_ip) | True if custom routes are imported from the peered network; false otherwise. | `bool` | `false` | no |
| <a name="input_peer_network_type"></a> [peer\_network\_type](#input\_peer\_network\_type) | The type of the network to peer with the VMware Engine network. Possible values are: STANDARD, VMWARE\_ENGINE\_NETWORK, PRIVATE\_SERVICES\_ACCESS, NETAPP\_CLOUD\_VOLUMES, THIRD\_PARTY\_SERVICE, DELL\_POWERSCALE. | `string` | n/a | yes |
| <a name="input_peer_nw_location"></a> [peer\_nw\_location](#input\_peer\_nw\_location) | The relative resource location of the network to peer with a standard VMware Engine network. The provided network can be a consumer VPC network or another standard VMware Engine network. | `string` | `"global"` | no |
| <a name="input_peer_nw_name"></a> [peer\_nw\_name](#input\_peer\_nw\_name) | The relative resource name of the network to peer with a standard VMware Engine network. The provided network can be a consumer VPC network or another standard VMware Engine network. | `string` | n/a | yes |
| <a name="input_peer_nw_project_id"></a> [peer\_nw\_project\_id](#input\_peer\_nw\_project\_id) | The relative resource project of the network to peer with a standard VMware Engine network. The provided network can be a consumer VPC network or another standard VMware Engine network. | `string` | n/a | yes |
| <a name="input_create_remote_peer"></a> [create\_remote\_peer](#create\_remote\_peer) | To automatically create the respective peering in the remote project, set this to true. | `bool` | `false` | no |


## Outputs

| Name | Description |
|------|-------------|
| <a name="output_id"></a> [id](#output\_id) | n/a |
| <a name="output_peering"></a> [peering](#output\_peering) | n/a |
| <a name="output_state"></a> [state](#output\_state) | n/a |

<!-- END_AUTOMATED_TF_DOCS_BLOCK -->