# VMWare NSX-T Segment Terraform Module
This Terraform configures a VM network segement in VMware NSX-T with optional DHCP configuration. For GCVE, a new tier1 gateway is required if DHCP is wanted.

# Execution environment
This module requires Terraform 1.x.

## Config Data Object Definition
| Variable  | Description | Type | Default |
| ---      |  ------  |----------| ----|
| `resource_description` | A string added to the descriptin field of all created resouces. | `string` | `Terraform provisioned` |
| `transit_zone_path` | The path for the already existing NSX-T Overlay Transport. | `string` |  |
| `connectivity_path` | The path for the already existing NSX-T Tier-1 gateway. | `string` |  |
| `display_name` | The name assigned to the VM network segment created with this module | `string` | `vm-segment` |
| `segment_cidr` | The CIDR to assign to the VM segment. Technically this needs to start with the first address in the range. Eg `10.50.0.1/24` | `string` | - |
| `dhcp` | A configuration object for dhcp options on the segment | `object` | |
| `dhcp.enable` | Should dhcp be enabled on the new VM network segment? | `bool` | `false` |
| `dhcp.ranges` | A range of IPs within the VM network segment to use as the DHCP pool. Specified like `10.50.0.10-10.50.0.19`| `list(string)` | - |
| `dhcp.dns_servers` | The DNS servers passed to DHCP client| `list(string)` | - |
| `dhcp.dhcp_generic_options` | [DHCP options](https://www.iana.org/assignments/bootp-dhcp-parameters/bootp-dhcp-parameters.xhtml) and values which are passed to DHCP clients | `string` | - |
| `dhcp.dhcp_generic_options.*.code` | The DHCP option code number. Eg. `119` is DNS suffix search list. | `list(object)` | - |
| `dhcp.dhcp_generic_options.*.value` | The DHCP option value for the corresponding code number. Eg. for code `119` (DNS suffix search list) the value could be `["google.com"]`. | `any` | - |
| `tags` | A map of tag:scope pairs to be assigned to created resrouces | `string` | |
